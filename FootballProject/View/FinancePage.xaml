<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:charts="clr-namespace:Microcharts.Maui;assembly=Microcharts.Maui"
             x:Class="FootballProject.View.FinancePage"
             Title="Finance"
             BackgroundColor="#1E1E1E">

    <Grid Padding="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="480" />
        </Grid.ColumnDefinitions>

        <!-- Bank Balance + Yearly Chart -->
        <Frame Grid.Row="0" Grid.Column="0" Grid.ColumnSpan="2"
               BackgroundColor="#8294C4"
               CornerRadius="20" Margin="15">
            <VerticalStackLayout Padding="10,10,10,5" Spacing="6">
                <Label Text="{Binding BankBalanceString}" 
                       TextColor="White" FontSize="Medium" FontAttributes="Bold" />
                <Label Text="{Binding TotalBalanceString}" 
                       TextColor="White" FontSize="Small" FontAttributes="Italic"
                       HorizontalOptions="End" />
                <charts:ChartView Chart="{Binding YearlyChart}" 
                                  HeightRequest="250" 
                                  WidthRequest="1000" />
            </VerticalStackLayout>
        </Frame>

        <!-- Profit/Loss + Monthly Chart -->
        <Frame Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2"
               BackgroundColor="#8294C4"
               CornerRadius="20" Margin="15">
            <VerticalStackLayout Padding="10,10,10,5" Spacing="6">
                <Label Text="{Binding ProfitOrLossString}" 
                       TextColor="White" FontSize="Medium" FontAttributes="Bold" />
                <Label Text="{Binding TotalDiffString}" 
                       TextColor="White" FontSize="Small" FontAttributes="Italic"
                       HorizontalOptions="End" />
                <charts:ChartView Chart="{Binding MonthlyChart}" 
                                  HeightRequest="250" 
                                  WidthRequest="1000" />
            </VerticalStackLayout>
        </Frame>

        <!-- Transfer & Wage Panel -->
        <Frame Grid.Row="0" Grid.Column="2" Grid.RowSpan="2"
               BackgroundColor="#8294C4"
               CornerRadius="20" Margin="15">
            <VerticalStackLayout Padding="15,15,15,10" Spacing="10">
                <Label Text="Transfer Budget:" TextColor="White" FontSize="Medium" FontAttributes="Bold"/>
                <Label Text="{Binding TransferBudgetString}" TextColor="White" FontSize="Medium"/>
                <Label Text="Wage:" TextColor="White" FontSize="Medium" FontAttributes="Bold"/>
                <Label Text="{Binding WageString}" TextColor="White" FontSize="Medium"/>

                <Slider Minimum="0" Maximum="100" 
                        Value="{Binding SliderValue, Mode=TwoWay}" 
                        ThumbColor="White"
                        MinimumTrackColor="#FF8000" 
                        MaximumTrackColor="Gray"
                        HorizontalOptions="FillAndExpand"/>

                <Button Text="Save"
                        BackgroundColor="#1E1E1E"
                        TextColor="White"
                        HorizontalOptions="Center"
                        VerticalOptions="End"
                        Command="{Binding SaveCommand}" />
            </VerticalStackLayout>
        </Frame>
    </Grid>
</ContentPage>
